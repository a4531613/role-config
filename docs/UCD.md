# UCD（以用户为中心设计）梳理

## 1. 用户角色（Who）

### 1.1 系统管理员（平台/全局）
- 目标：在全局范围配置菜单、权限点、角色并维护一致性，支撑业务系统的权限治理。
- 痛点：配置项多、层级复杂、容易误操作；批量场景频繁；需要可追溯与可导入导出。

### 1.2 应用管理员（某应用/某域）
- 目标：为应用维护菜单树与权限点清单，确保与代码/接口一致，给业务角色正确赋权。
- 痛点：菜单/权限点的结构化维护与查找成本高；希望“先定义，再分配”的清晰路径。

### 1.3 角色管理员（组织/部门）
- 目标：围绕“角色”快速完成菜单与权限点的绑定/解绑，常见为批量增删。
- 痛点：多角色批量操作步骤多；解绑时需要快速定位“已绑定”；需要即时反馈与闭环。

### 1.4 审计/安全人员（只读）
- 目标：快速查看某角色具备哪些菜单/权限点，辅助审计或问题定位；导出留档。
- 痛点：信息分散、缺少一致的视图与过滤；需要清晰、稳定、可复现的结果。

## 2. 核心使用场景（When/Where）

1. 新应用接入：先维护菜单树 → 再维护权限点（class/method）→ 创建角色 → 绑定 → 导出留档
2. 权限变更：新增/下线页面与接口权限点 → 批量给多个角色增/删绑定 → 验证结果
3. 组织调整：角色重命名、owner 变更 → 批量迁移或增删权限 → 导出审批/审计

## 3. 关键用户旅程（Journey）与主路径（Happy Path）

### 3.1 主路径 A：从“配置资产”到“角色赋权”
1. 菜单维护：创建/调整菜单树（拖拽层级与排序）→ 通过搜索定位节点 → 保存并可见
2. 权限点清单：新增 class → 在其下新增 method → 搜索定位与校验提示
3. 角色维护：创建角色（含 owner）→ 进入角色绑定
4. 绑定：单角色（覆盖式保存）或批量模式（增量绑定/解绑）→ 操作成功反馈 → 结果可视化刷新

### 3.2 主路径 B：批量增删（高频）
1. 开启批量模式 → 勾选多个角色
2. 切换到菜单/权限点页签 → “加载已绑定”自动勾选并集
3. 选择动作（绑定/解绑）→ 勾选目标项 → 执行 → 自动刷新已绑定并集（闭环）

## 4. 交互规范（How）

### 4.1 一致的操作反馈
- 所有写操作：按钮 loading + 成功/失败 toast + 失败原因可读
- 批量操作：反馈包含新增/删除数量，便于确认是否生效

### 4.2 降低认知负担
- “父级”不手填 ID：统一使用树选择器
- 树形列表：只在“名称列”缩进，其它列对齐，便于扫描
- 搜索框位置固定在工具条；支持展开/折叠以控制信息密度

### 4.3 流程闭环
- 执行后自动刷新（并回填树勾选），确保用户能立刻验证结果

